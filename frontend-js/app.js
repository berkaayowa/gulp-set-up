$app={initAdmin:function(){},initHome:function(){},initNoAdmin:function(){},initOverlayOptions:function(){}},$appFunctionalities={loadChat:function(){},comment:function(){},loadNewTasks:function(){},loadUnderReviewTasks:function(){},loadDoneTasks:function(){},loadTasksDescription:function(){},buttonsPressed:function(){},loadNews:function(){},loading:function(){},login:function(){},clicks:function(){}},$appErrorDisplay={feedback:function(){},initHome:function(){},initNoAdmin:function(){},initOverlayOptions:function(){}};var timeToRefreshTasks=3e3,timeToRefreshComments=5e3,loader=0;$app.initOverlayOptions=function(){$("[data-open-description]").click(function(){$("[data-show]").show("slow"),$("body").css("overflow-x","hidden")}),$("[data-close]").click(function(){$("[data-show]").hide("slow"),$("body").css("overflow-x","scroll")}),$("[data-open-newTask]").click(function(){$("[data-show-newTask]").show("slow"),$("body").css("overflow-x","hidden")}),$("[data-close-newTask]").click(function(){$("[data-show-newTask]").hide("slow"),$("body").css("overflow-x","scroll")})},$appFunctionalities.loadChat=function(){setTimeout(function(){var a=$("[data-Task-id]").data("Task-id");$(".comments-view").load("/control/loadComments.controller.php?task_id="+a),$(".comments-view").animate({scrollTop:$(".comments-view").get(0).scrollHeight},200),$appFunctionalities.loadChat()},timeToRefreshComments)},$appFunctionalities.loadNewTasks=function(){var a="n",t=$("[data-user-id]").data("user-id");setTimeout(function(){$("#newTasks").load("/control/loadTask.php?status="+a+"&user-id="+t),$appFunctionalities.loadNewTasks()},timeToRefreshTasks)},$appFunctionalities.loadUnderReviewTasks=function(){var a="u",t=$("[data-user-id]").data("user-id");setTimeout(function(){$("#underReviewTasks").load("/control/loadTask.php?status="+a+"&user-id="+t),$appFunctionalities.loadUnderReviewTasks()},timeToRefreshTasks)},$appFunctionalities.loadDoneTasks=function(){var a="d",t=$("[data-user-id]").data("user-id");setTimeout(function(){$("#tasksDone").load("/control/loadTask.php?status="+a+"&user-id="+t),$appFunctionalities.loadDoneTasks()},timeToRefreshTasks)},$appFunctionalities.loadNews=function(){setTimeout(function(){$("#General_news").load("/control/loadNews.php"),$appFunctionalities.loadNews()},timeToRefreshTasks)},$appFunctionalities.loadTasksDescription=function(){$("[data-task-id]").on("click",function(){var a=$(this).data("task-id");$("[data-Task-Approved]").data("Task-Approved",a),$("[data-Task-Inprogress]").data("Task-Inprogress",a),$("[data-Task-Completed]").data("Task-Completed",a),$("#taskDescription").fadeOut(10).load("/control/taskDescription.php?task_id="+a).fadeIn("fast")})},$appFunctionalities.buttonsPressed=function(){$("[data-Task-Approved]").on("click",function(){var a=$("[data-Task-Approved]").data("Task-Approved"),t="approved",o=$("[data-user-id]").data("user-id");$.post("/control/functionality.controller.php",{task_id:a,status:t,user_name:o},function(a){$appErrorDisplay.feedback(a)}),$("[data-Task-Approved]").hide(),$("[data-Task-Completed]").show()}),$("[data-Task-Completed]").on("click",function(){var a=$("[data-Task-Completed]").data("Task-Completed"),t="inaction",o=$("[data-user-id]").data("user-id");$.post("/control/functionality.controller.php",{task_id:a,status:t,name:name,user_name:o},function(a){$appErrorDisplay.feedback(a)}),$("[data-Task-Approved]").hide(),$("[data-Task-Completed]").hide()}),$("[data-Comment-Btn]").on("click",function(){var a=$("#commentBox").val(),t=$("[data-Task-id]").data("Task-id"),o=$("[data-user-id]").data("user-id");a.trim()&&t.trim()?($.post("/control/insertComment.php",{task_id:t,comment:a,user_id:o},function(a){$appErrorDisplay.feedback(a)}),$("#commentBox").val("")):$("#error-comment").html("!Please enter some text to comment").fadeIn("fast").fadeOut(5e3)})},$appFunctionalities.loading=function(){var a=setTimeout(function(){loader<10?($(".loading").fadeOut("slow"),$(".loading").fadeIn("slow"),loader++,$appFunctionalities.loading()):(clearTimeout(a),$(".load-screen").fadeOut("slow"),$("body").addClass("overflow-y","scroll"))},1e3)},$appFunctionalities.login=function(){},$appFunctionalities.clicks=function(){$("[data-delete-id]").on("click",function(){var a=$(this).data("delete-id");$.post("/control/deleteComment.php",{id:a},function(a){$appErrorDisplay.feedback(a)})})},$appErrorDisplay.feedback=function(a){a.trim()&&($(".feedback").html(a),$(".feedback").fadeIn("slow"),$(".feedback").fadeOut(5e3))},$(function(){$("#commentBox").keyup(function(a){13==a.which&&$("[data-Comment-Btn]").trigger("click")})});